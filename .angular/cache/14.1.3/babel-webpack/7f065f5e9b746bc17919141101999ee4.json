{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core'; // Importe les décorateurs 'Component' et 'OnInit' d'Angular Core.\n\nimport { map } from 'rxjs/operators';\nimport { faAward } from '@fortawesome/fontawasome-free/-solid-svg-icons';\nlet HomeComponent = class HomeComponent {\n  constructor(olympicService, router) {\n    this.olympicService = olympicService;\n    this.router = router;\n    this.chartData = []; // Stocke les données transformées pour le diagramme\n\n    this.faAward = faAward;\n\n    this.tooltipText = item => {\n      const label = item.data.name;\n      const val = item.data.value;\n      return `${label} ${val}`;\n    };\n  } // Le constructeur est utilisé pour l'injection de dépendances.\n\n\n  ngOnInit() {\n    this.olympicService.getOlympics().pipe(map(countries => countries ? countries.map(country => ({\n      name: country.country,\n      value: country.participations.reduce((total, participation) => total + participation.medalsCount, 0)\n    })) : [])).subscribe(transformedData => {\n      this.chartData = transformedData;\n    });\n  }\n\n  onPieChartClick(event) {\n    // Récupérez le nom du pays à partir de l'événement (ou d'où vous le stockez)\n    const countryName = event.data.name; // Utilisez le Router pour naviguer vers la page de détail avec le nom du pays en tant que paramètre\n\n    this.router.navigate(['/details', countryName]);\n  }\n\n  onChartClick(event) {\n    if (event && event.name) {\n      // Utilisez le Router pour naviguer vers la page concernée en fonction de l'événement ou des données du clic.\n      this.router.navigate([`/details/${event.name}`]); // Assurez-vous d'ajuster le chemin de la route selon votre structure.\n    }\n  }\n\n};\nHomeComponent = __decorate([Component({\n  selector: 'app-home',\n  templateUrl: './home.component.html',\n  styleUrls: ['./home.component.scss'] // Chemin(s) vers le(s) fichier(s) de style CSS/SCSS de ce composant.\n\n})], HomeComponent);\nexport { HomeComponent };\n/*\n\n* Décorateur @Component : Définit les métadonnées du composant, telles que le template HTML, le style, et le sélecteur.\n* Classe du Composant : Définit le comportement du composant, incluant les propriétés et les méthodes.\n*\tObservable olympics$ : Gère les données asynchrones des pays olympiques.\n*\tInjection de OlympicService : Fournit les données nécessaires au composant\n* ngOnInit : Initialise le composant en s'abonnant aux données olympiques\n\n* Le symbole $ après le nom olympics dans olympics$ est une convention de nommage couramment utilisée dans la communauté Angular et RxJS pour indiquer qu'une variable est un Observable.\n\nCe composant, en résumé, est conçu pour afficher des données olympiques en s'abonnant à un service qui les fournit via un Observable.\n\n*/","map":{"version":3,"mappings":";AAAA,SAASA,SAAT,QAAiC,eAAjC,C,CAA+D;;AAI/D,SAASC,GAAT,QAAoB,gBAApB;AAEA,SAASC,OAAT,QAAwB,gDAAxB;AAOA,IAAaC,aAAa,GAA1B,MAAaA,aAAb,CAA0B;EAKxBC,YAAoBC,cAApB,EAA4DC,MAA5D,EAA0E;IAAtD;IAAwC;IAHrD,iBAAmB,EAAnB,CAGmE,CAH3C;;IAE/B,eAAUJ,OAAV;;IA+BF,mBAAeK,IAAD,IAAsB;MAClC,MAAMC,KAAK,GAAGD,IAAI,CAACE,IAAL,CAAUC,IAAxB;MACA,MAAMC,GAAG,GAAGJ,IAAI,CAACE,IAAL,CAAUG,KAAtB;MACC,OAAO,GAAGJ,KAAK,IAAIG,GAAG,EAAtB;IACF,CAJD;EA9BgF,CALtD,CAK8D;;;EAEvFE,QAAQ;IACP,KAAKR,cAAL,CAAoBS,WAApB,GAAkCC,IAAlC,CACEd,GAAG,CAAEe,SAAD,IACFA,SAAS,GAAGA,SAAS,CAACf,GAAV,CAAcgB,OAAO,KAAK;MACpCP,IAAI,EAAEO,OAAO,CAACA,OADsB;MAEpCL,KAAK,EAAEK,OAAO,CAACC,cAAR,CAAuBC,MAAvB,CAA8B,CAACC,KAAD,EAAQC,aAAR,KAA0BD,KAAK,GAAGC,aAAa,CAACC,WAA9E,EAA2F,CAA3F;IAF6B,CAAL,CAArB,CAAH,GAGH,EAJL,CADL,EAOEC,SAPF,CAOYC,eAAe,IAAG;MAC5B,KAAKC,SAAL,GAAiBD,eAAjB;IACD,CATD;EAUD;;EACDE,eAAe,CAACC,KAAD,EAAW;IACxB;IACA,MAAMC,WAAW,GAAGD,KAAK,CAAClB,IAAN,CAAWC,IAA/B,CAFwB,CAIxB;;IACA,KAAKJ,MAAL,CAAYuB,QAAZ,CAAqB,CAAC,UAAD,EAAaD,WAAb,CAArB;EACD;;EAEDE,YAAY,CAACH,KAAD,EAAW;IACrB,IAAIA,KAAK,IAAIA,KAAK,CAACjB,IAAnB,EAAyB;MACvB;MACA,KAAKJ,MAAL,CAAYuB,QAAZ,CAAqB,CAAC,YAAYF,KAAK,CAACjB,IAAI,EAAvB,CAArB,EAFuB,CAE2B;IACnD;EACF;;AAhCyB,CAA1B;AAAaP,aAAa,eANzBH,SAAS,CAAC;EACT+B,QAAQ,EAAE,UADD;EAETC,WAAW,EAAE,uBAFJ;EAGTC,SAAS,EAAE,CAAC,uBAAD,CAHF,CAGqD;;AAHrD,CAAD,CAMgB,GAAb9B,aAAa,CAAb;SAAAA;AA2Cb","names":["Component","map","faAward","HomeComponent","constructor","olympicService","router","item","label","data","name","val","value","ngOnInit","getOlympics","pipe","countries","country","participations","reduce","total","participation","medalsCount","subscribe","transformedData","chartData","onPieChartClick","event","countryName","navigate","onChartClick","selector","templateUrl","styleUrls"],"sourceRoot":"","sources":["/Users/papa/Desktop/WhiteWolfWeb/PROJET-OCR-JAVA-ANGULAR/OCR-JAVA-ANGULAR-P2/TeleSport/src/app/pages/home/home.component.ts"],"sourcesContent":["import { Component, OnInit} from '@angular/core';              // Importe les décorateurs 'Component' et 'OnInit' d'Angular Core.\nimport { Observable, of } from 'rxjs';                          // Importe 'Observable' de la bibliothèque RxJS pour la gestion des données asynchrones.\nimport { OlympicService } from 'src/app/core/services/olympic.service';\nimport { OlympicCountry } from 'src/app/core/models/Olympic';   // Importe l'interface 'OlympicCountry' pour définir la structure des données olympiques.\nimport { map } from 'rxjs/operators';\nimport { Router } from '@angular/router'; \nimport { faAward } from '@fortawesome/fontawasome-free/-solid-svg-icons';\n@Component({\n  selector: 'app-home',                                         // Sélecteur CSS pour utiliser ce composant.   Utilisé dans le HTML comme <app-home></app-home>.\n  templateUrl: './home.component.html',                         // Chemin vers le fichier de template HTML de ce composant\n  styleUrls: ['./home.component.scss'],                         // Chemin(s) vers le(s) fichier(s) de style CSS/SCSS de ce composant.\n})\n\nexport class HomeComponent implements OnInit {                  // Déclaration de la classe du composant 'HomeComponent'.\n  public olympics$: Observable<OlympicCountry[] | null> | undefined;  // Déclaration d'une propriété publique 'olympics$'. C'est un Observable qui émettra soit un tableau de 'OlympicCountry', soit 'null'. Peut être 'undefined' initialement.\n  public chartData: any[] = [];  // Stocke les données transformées pour le diagramme\n  public tooltipTemplate: any; // Assurez-vous de déclarer la propriété tooltipTemplate.\n  faAward = faAward;\n  constructor(private olympicService: OlympicService, private router: Router) {}        // Le constructeur est utilisé pour l'injection de dépendances.\n\n ngOnInit(): void {\n  this.olympicService.getOlympics().pipe(\n    map((countries: OlympicCountry[] | null) => \n      countries ? countries.map(country => ({\n        name: country.country,\n        value: country.participations.reduce((total, participation) => total + participation.medalsCount, 0)\n      })) : []\n    )\n  ).subscribe(transformedData => {\n    this.chartData = transformedData;\n  });\n}\nonPieChartClick(event: any): void {\n  // Récupérez le nom du pays à partir de l'événement (ou d'où vous le stockez)\n  const countryName = event.data.name;\n\n  // Utilisez le Router pour naviguer vers la page de détail avec le nom du pays en tant que paramètre\n  this.router.navigate(['/details', countryName]);\n}\n\nonChartClick(event: any): void {\n  if (event && event.name) {\n    // Utilisez le Router pour naviguer vers la page concernée en fonction de l'événement ou des données du clic.\n    this.router.navigate([`/details/${event.name}`]); // Assurez-vous d'ajuster le chemin de la route selon votre structure.\n  }\n}\n\n\ntooltipText = (item: any): string => {\n  const label = item.data.name;\n  const val = item.data.value;\n   return `${label} ${val}`;\n};\n}\n\n\n/*\n\n* Décorateur @Component : Définit les métadonnées du composant, telles que le template HTML, le style, et le sélecteur.\n* Classe du Composant : Définit le comportement du composant, incluant les propriétés et les méthodes.\n*\tObservable olympics$ : Gère les données asynchrones des pays olympiques.\n*\tInjection de OlympicService : Fournit les données nécessaires au composant\n* ngOnInit : Initialise le composant en s'abonnant aux données olympiques\n\n* Le symbole $ après le nom olympics dans olympics$ est une convention de nommage couramment utilisée dans la communauté Angular et RxJS pour indiquer qu'une variable est un Observable.\n\nCe composant, en résumé, est conçu pour afficher des données olympiques en s'abonnant à un service qui les fournit via un Observable.\n\n*/"]},"metadata":{},"sourceType":"module"}