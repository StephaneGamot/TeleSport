{"ast":null,"code":"import { map } from 'rxjs/operators';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/core/services/olympic.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@swimlane/ngx-charts\";\n\nfunction HomeComponent_li_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const country_r2 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", country_r2.country, \" \");\n  }\n}\n\nfunction HomeComponent_ngx_charts_pie_chart_7_ng_template_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 6)(1, \"div\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\");\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(4, \"svg\", 7);\n    i0.ɵɵelement(5, \"path\", 8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const model_r5 = ctx.model;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(model_r5.name);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", model_r5.value, \"\");\n  }\n}\n\nconst _c0 = function () {\n  return [1050, 600];\n};\n\nfunction HomeComponent_ngx_charts_pie_chart_7_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r7 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"ngx-charts-pie-chart\", 4);\n    i0.ɵɵlistener(\"select\", function HomeComponent_ngx_charts_pie_chart_7_Template_ngx_charts_pie_chart_select_0_listener($event) {\n      i0.ɵɵrestoreView(_r7);\n      const ctx_r6 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r6.onChartClick($event));\n    });\n    i0.ɵɵtemplate(1, HomeComponent_ngx_charts_pie_chart_7_ng_template_1_Template, 7, 2, \"ng-template\", null, 5, i0.ɵɵtemplateRefExtractor);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const _r3 = i0.ɵɵreference(2);\n\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"results\", ctx_r1.chartData)(\"view\", i0.ɵɵpureFunction0(7, _c0))(\"legend\", false)(\"labels\", true)(\"trimLabels\", true)(\"tooltipTemplate\", _r3)(\"tooltipText\", ctx_r1.tooltipText);\n  }\n}\n\nexport class HomeComponent {\n  constructor(olympicService, router) {\n    this.olympicService = olympicService;\n    this.router = router;\n    this.chartData = []; // Stocke les données transformées pour le diagramme\n\n    this.numberOfJOs = 0;\n    this.numberOfCountries = 0;\n\n    this.tooltipText = item => {\n      const label = item.data.name;\n      const val = item.data.value;\n      return `${label} ${val}`;\n    };\n  } // Le constructeur est utilisé pour l'injection de dépendances.\n\n\n  ngOnInit() {\n    this.olympics$ = this.olympicService.getOlympics().pipe(map(countries => {\n      if (countries) {\n        this.numberOfJOs = this.calculateNumberOfJOs(countries);\n        this.numberOfCountries = countries.length;\n        this.chartData = countries.map(country => ({\n          name: country.country,\n          value: country.participations.reduce((total, participation) => total + participation.medalsCount, 0)\n        }));\n      }\n\n      return countries || [];\n    }));\n  }\n\n  calculateNumberOfJOs(countries) {\n    const yearsOfJOs = [];\n    countries.forEach(olympic => {\n      olympic.participations.forEach(participation => {\n        if (!yearsOfJOs.includes(participation.year)) {\n          yearsOfJOs.push(participation.year);\n        }\n      });\n    });\n    return yearsOfJOs.length;\n  }\n\n  onPieChartClick(event) {\n    const countryName = event.data.name;\n    this.router.navigate(['/details', countryName]);\n  }\n\n  onChartClick(event) {\n    if (event && event.name) {\n      this.router.navigate([`/details/${event.name}`]);\n    }\n  }\n\n}\n\nHomeComponent.ɵfac = function HomeComponent_Factory(t) {\n  return new (t || HomeComponent)(i0.ɵɵdirectiveInject(i1.OlympicService), i0.ɵɵdirectiveInject(i2.Router));\n};\n\nHomeComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: HomeComponent,\n  selectors: [[\"app-home\"]],\n  decls: 8,\n  vars: 4,\n  consts: [[1, \"homePage\"], [1, \"homePageTitle\"], [4, \"ngFor\", \"ngForOf\"], [3, \"results\", \"view\", \"legend\", \"labels\", \"trimLabels\", \"tooltipTemplate\", \"tooltipText\", \"select\", 4, \"ngIf\"], [3, \"results\", \"view\", \"legend\", \"labels\", \"trimLabels\", \"tooltipTemplate\", \"tooltipText\", \"select\"], [\"tooltipTemplate\", \"\"], [1, \"tooltip\"], [\"xmlns\", \"http://www.w3.org/2000/svg\", \"height\", \"16\", \"width\", \"12\", \"viewBox\", \"0 0 384 512\", 1, \"tooltip-award-icon\"], [\"opacity\", \"1\", \"fill\", \"#1E3050\", \"d\", \"M173.8 5.5c11-7.3 25.4-7.3 36.4 0L228 17.2c6 3.9 13 5.8 20.1 5.4l21.3-1.3c13.2-.8 25.6 6.4 31.5 18.2l9.6 19.1c3.2 6.4 8.4 11.5 14.7 14.7L344.5 83c11.8 5.9 19 18.3 18.2 31.5l-1.3 21.3c-.4 7.1 1.5 14.2 5.4 20.1l11.8 17.8c7.3 11 7.3 25.4 0 36.4L366.8 228c-3.9 6-5.8 13-5.4 20.1l1.3 21.3c.8 13.2-6.4 25.6-18.2 31.5l-19.1 9.6c-6.4 3.2-11.5 8.4-14.7 14.7L301 344.5c-5.9 11.8-18.3 19-31.5 18.2l-21.3-1.3c-7.1-.4-14.2 1.5-20.1 5.4l-17.8 11.8c-11 7.3-25.4 7.3-36.4 0L156 366.8c-6-3.9-13-5.8-20.1-5.4l-21.3 1.3c-13.2 .8-25.6-6.4-31.5-18.2l-9.6-19.1c-3.2-6.4-8.4-11.5-14.7-14.7L39.5 301c-11.8-5.9-19-18.3-18.2-31.5l1.3-21.3c.4-7.1-1.5-14.2-5.4-20.1L5.5 210.2c-7.3-11-7.3-25.4 0-36.4L17.2 156c3.9-6 5.8-13 5.4-20.1l-1.3-21.3c-.8-13.2 6.4-25.6 18.2-31.5l19.1-9.6C65 70.2 70.2 65 73.4 58.6L83 39.5c5.9-11.8 18.3-19 31.5-18.2l21.3 1.3c7.1 .4 14.2-1.5 20.1-5.4L173.8 5.5zM272 192a80 80 0 1 0 -160 0 80 80 0 1 0 160 0zM1.3 441.8L44.4 339.3c.2 .1 .3 .2 .4 .4l9.6 19.1c11.7 23.2 36 37.3 62 35.8l21.3-1.3c.2 0 .5 0 .7 .2l17.8 11.8c5.1 3.3 10.5 5.9 16.1 7.7l-37.6 89.3c-2.3 5.5-7.4 9.2-13.3 9.7s-11.6-2.2-14.8-7.2L74.4 455.5l-56.1 8.3c-5.7 .8-11.4-1.5-15-6s-4.3-10.7-2.1-16zm248 60.4L211.7 413c5.6-1.8 11-4.3 16.1-7.7l17.8-11.8c.2-.1 .4-.2 .7-.2l21.3 1.3c26 1.5 50.3-12.6 62-35.8l9.6-19.1c.1-.2 .2-.3 .4-.4l43.2 102.5c2.2 5.3 1.4 11.4-2.1 16s-9.3 6.9-15 6l-56.1-8.3-32.2 49.2c-3.2 5-8.9 7.7-14.8 7.2s-11-4.3-13.3-9.7z\"]],\n  template: function HomeComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"h1\");\n      i0.ɵɵtext(3, \"Medals per Country\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(4, \"ul\");\n      i0.ɵɵtemplate(5, HomeComponent_li_5_Template, 2, 1, \"li\", 2);\n      i0.ɵɵpipe(6, \"async\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(7, HomeComponent_ngx_charts_pie_chart_7_Template, 3, 8, \"ngx-charts-pie-chart\", 3);\n      i0.ɵɵelementEnd();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind1(6, 2, ctx.olympics$));\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", ctx.chartData);\n    }\n  },\n  dependencies: [i3.NgForOf, i3.NgIf, i4.PieChartComponent, i3.AsyncPipe],\n  styles: [\"@charset \\\"UTF-8\\\";\\n.homePage[_ngcontent-%COMP%] {\\n  display: flex;\\n  flex-direction: column;\\n  justify-content: center;\\n  align-items: center;\\n}\\nh1[_ngcontent-%COMP%] {\\n  font-weight: 300;\\n  font-size: 4rem;\\n  font-family: \\\"Courier New\\\", Courier, monospace;\\n  color: white;\\n}\\n.homePageTitle[_ngcontent-%COMP%] {\\n  background-color: #03838f;\\n  border-radius: 10px;\\n  padding: 10px 20px;\\n  margin: 10px 0;\\n  font-size: 3rem;\\n}\\n.homePageAllSubtitles[_ngcontent-%COMP%] {\\n  display: flex;\\n}\\n.homePageSubtitle[_ngcontent-%COMP%] {\\n  border: 2px solid #03838f;\\n  border-radius: 10px;\\n  padding: 10px;\\n  margin: 10px;\\n  color: darkgray;\\n  font-size: 1.7rem;\\n}\\n.tooltip[_ngcontent-%COMP%] {\\n  background-color: #03838f;\\n  padding: 5px;\\n  font-family: Arial, Helvetica, sans-serif;\\n  border-radius: 10px;\\n  font-size: 1rem;\\n}\\n.white-icon[_ngcontent-%COMP%] {\\n  fill: white;\\n}\\n\\n\\n.custom-tooltip[_ngcontent-%COMP%] {\\n  background-color: #ff0000 !important; \\n  color: #ffffff !important; \\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImhvbWUuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsZ0JBQWdCO0FBQWhCO0VBQ0MsYUFBQTtFQUNBLHNCQUFBO0VBQ0EsdUJBQUE7RUFDQSxtQkFBQTtBQUVEO0FBQ0E7RUFDQyxnQkFBQTtFQUNBLGVBQUE7RUFDQSw4Q0FBQTtFQUNBLFlBQUE7QUFFRDtBQUNBO0VBQ0MseUJBQUE7RUFDQSxtQkFBQTtFQUNBLGtCQUFBO0VBQ0EsY0FBQTtFQUNBLGVBQUE7QUFFRDtBQUFBO0VBQ0MsYUFBQTtBQUdEO0FBREE7RUFDQyx5QkFBQTtFQUNBLG1CQUFBO0VBQ0EsYUFBQTtFQUNBLFlBQUE7RUFDQSxlQUFBO0VBQ0EsaUJBQUE7QUFJRDtBQURBO0VBQ0MseUJBQUE7RUFDRyxZQUFBO0VBQ0EseUNBQUE7RUFDSCxtQkFBQTtFQUNBLGVBQUE7QUFJRDtBQUFBO0VBQ0MsV0FBQTtBQUdEO0FBQUE7Ozs7Ozs7Ozs7O0NBQUE7QUFhQSxxQ0FBQTtBQUNBO0VBQ0ksb0NBQUEsRUFBQSxlQUFBO0VBQ0EseUJBQUEsRUFBQSxnQkFBQTtBQUVKIiwiZmlsZSI6ImhvbWUuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuaG9tZVBhZ2Uge1xuXHRkaXNwbGF5OiBmbGV4O1xuXHRmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuXHRqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcblx0YWxpZ24taXRlbXM6IGNlbnRlcjtcbn1cblxuaDEge1xuXHRmb250LXdlaWdodDogMzAwO1xuXHRmb250LXNpemU6IDRyZW07XG5cdGZvbnQtZmFtaWx5OiBcIkNvdXJpZXIgTmV3XCIsIENvdXJpZXIsIG1vbm9zcGFjZTtcblx0Y29sb3I6IHdoaXRlO1xufVxuXG4uaG9tZVBhZ2VUaXRsZSB7XG5cdGJhY2tncm91bmQtY29sb3I6ICMwMzgzOGY7XG5cdGJvcmRlci1yYWRpdXM6IDEwcHg7XG5cdHBhZGRpbmc6IDEwcHggMjBweDtcblx0bWFyZ2luOiAxMHB4IDA7XG5cdGZvbnQtc2l6ZTogM3JlbTtcbn1cbi5ob21lUGFnZUFsbFN1YnRpdGxlcyB7XG5cdGRpc3BsYXk6IGZsZXg7XG59XG4uaG9tZVBhZ2VTdWJ0aXRsZSB7XG5cdGJvcmRlcjogMnB4IHNvbGlkICMwMzgzOGY7XG5cdGJvcmRlci1yYWRpdXM6IDEwcHg7XG5cdHBhZGRpbmc6IDEwcHg7XG5cdG1hcmdpbjogMTBweDtcblx0Y29sb3I6IGRhcmtncmF5O1xuXHRmb250LXNpemU6IDEuN3JlbTtcbn1cblxuLnRvb2x0aXAge1xuXHRiYWNrZ3JvdW5kLWNvbG9yOiAjMDM4MzhmO1xuICAgIHBhZGRpbmc6IDVweDtcbiAgICBmb250LWZhbWlseTpBcmlhbCwgSGVsdmV0aWNhLCBzYW5zLXNlcmlmO1xuXHRib3JkZXItcmFkaXVzOiAxMHB4O1xuXHRmb250LXNpemU6IDFyZW07XG5cbn1cblxuLndoaXRlLWljb24ge1xuXHRmaWxsOiB3aGl0ZTtcbiAgfVxuICBcbi8qXG5uZ3gtdG9vbHRpcC1jb250ZW50Lm5neC1jaGFydHMtdG9vbHRpcC1jb250ZW50LnR5cGUtdG9vbHRpcCB7XG4gICAgLnRvb2x0aXAtY2FyZXQucG9zaXRpb24tdG9wIHtcbiAgICAgIGJvcmRlci10b3AtY29sb3I6IHdoaXRlO1xuICAgICAgYm94LXNoYWRvdzogMCA2cHggMjBweCAwIHJnYmEoMCwgMCwgMCwgMC4yKTtcbiAgICB9XG4gIFxuICAgIGJhY2tncm91bmQtY29sb3I6IHdoaXRlIDtcbiAgICBib3gtc2hhZG93OiAwIDZweCAyMHB4IDAgcmdiYSgwLCAwLCAwLCAwLjIpO1xuICB9XG5cbiovXG5cbi8qIENTUyBwZXJzb25uYWxpc8OpIHBvdXIgbGUgdG9vbHRpcCAqL1xuLmN1c3RvbS10b29sdGlwIHtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmYwMDAwICFpbXBvcnRhbnQ7IC8qIEZvbmQgcm91Z2UgKi9cbiAgICBjb2xvcjogI2ZmZmZmZiAhaW1wb3J0YW50OyAvKiBUZXh0ZSBibGFuYyAqL1xuICB9XG4gICJdfQ== */\"]\n});","map":{"version":3,"mappings":"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","names":["map","i0","_r3","ctx_r1","HomeComponent","constructor","olympicService","router","item","label","data","name","val","value","ngOnInit","olympics$","getOlympics","pipe","countries","numberOfJOs","calculateNumberOfJOs","numberOfCountries","length","chartData","country","participations","reduce","total","participation","medalsCount","yearsOfJOs","forEach","olympic","includes","year","push","onPieChartClick","event","countryName","navigate","onChartClick","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["/Users/papa/Desktop/WhiteWolfWeb/PROJET-OCR-JAVA-ANGULAR/OCR-JAVA-ANGULAR-P2/TeleSport/src/app/pages/home/home.component.ts","/Users/papa/Desktop/WhiteWolfWeb/PROJET-OCR-JAVA-ANGULAR/OCR-JAVA-ANGULAR-P2/TeleSport/src/app/pages/home/home.component.html"],"sourcesContent":["import { Component, OnInit} from '@angular/core';              // Importe les décorateurs 'Component' et 'OnInit' d'Angular Core.\nimport { Observable } from 'rxjs';                          // Importe 'Observable' de la bibliothèque RxJS pour la gestion des données asynchrones.\nimport { OlympicService } from 'src/app/core/services/olympic.service';\nimport { OlympicCountry } from 'src/app/core/models/Olympic';   // Importe l'interface 'OlympicCountry' pour définir la structure des données olympiques.\nimport { map } from 'rxjs/operators';\nimport { Router } from '@angular/router'; \n@Component({\n  selector: 'app-home',                                         // Sélecteur CSS pour utiliser ce composant.   Utilisé dans le HTML comme <app-home></app-home>.\n  templateUrl: './home.component.html',                         // Chemin vers le fichier de template HTML de ce composant\n  styleUrls: ['./home.component.scss'],                         // Chemin(s) vers le(s) fichier(s) de style CSS/SCSS de ce composant.\n})\n\nexport class HomeComponent implements OnInit {                  // Déclaration de la classe du composant 'HomeComponent'.\n  public olympics$: Observable<OlympicCountry[] | null> | undefined;  // Déclaration d'une propriété publique 'olympics$'. C'est un Observable qui émettra soit un tableau de 'OlympicCountry', soit 'null'. Peut être 'undefined' initialement.\n  public chartData: any[] = [];  // Stocke les données transformées pour le diagramme\n  public tooltipTemplate: any; // Assurez-vous de déclarer la propriété tooltipTemplate.\n  numberOfJOs: number = 0;\n  numberOfCountries: number = 0;\n\n  constructor(private olympicService: OlympicService, private router: Router) {}        // Le constructeur est utilisé pour l'injection de dépendances.\n\n  ngOnInit(): void {\n    this.olympics$ = this.olympicService.getOlympics().pipe(\n      map((countries: OlympicCountry[] | null) => {\n        if (countries) {\n          this.numberOfJOs = this.calculateNumberOfJOs(countries);\n          this.numberOfCountries = countries.length;\n          this.chartData = countries.map((country) => ({\n            name: country.country,\n            value: country.participations.reduce((total, participation) => total + participation.medalsCount, 0),\n          }));\n        }\n        return countries || [];\n      })\n    );\n  }\n\n  private calculateNumberOfJOs(countries: OlympicCountry[]): number {\n    const yearsOfJOs: number[] = [];\n    countries.forEach((olympic) => {\n      olympic.participations.forEach((participation) => {\n        if (!yearsOfJOs.includes(participation.year)) {\n          yearsOfJOs.push(participation.year);\n        }\n      });\n    });\n    return yearsOfJOs.length;\n  }\n\n  onPieChartClick(event: any): void {\n    const countryName = event.data.name;\n    this.router.navigate(['/details', countryName]);\n  }\n\n  onChartClick(event: any): void {\n    if (event && event.name) {\n      this.router.navigate([`/details/${event.name}`]);\n    }\n  }\n\n  tooltipText = (item: any): string => {\n    const label = item.data.name;\n    const val = item.data.value;\n    return `${label} ${val}`;\n  };\n}\n\n/*\n\n* Décorateur @Component : Définit les métadonnées du composant, telles que le template HTML, le style, et le sélecteur.\n* Classe du Composant : Définit le comportement du composant, incluant les propriétés et les méthodes.\n*\tObservable olympics$ : Gère les données asynchrones des pays olympiques.\n*\tInjection de OlympicService : Fournit les données nécessaires au composant\n* ngOnInit : Initialise le composant en s'abonnant aux données olympiques\n\n* Le symbole $ après le nom olympics dans olympics$ est une convention de nommage couramment utilisée dans la communauté Angular et RxJS pour indiquer qu'une variable est un Observable.\n\nCe composant, en résumé, est conçu pour afficher des données olympiques en s'abonnant à un service qui les fournit via un Observable.\n\n*/","<div class=\"homePage\">\n  <div class=\"homePageTitle\"><h1>Medals per Country</h1></div>\n<!--\n  <div class=\"homePageAllSubtitles\">\n  <div class=\"homePageSubtitle\"> <span>Number of JOs</span>\n    <span>{{ numberOfJOs }}</span></div>\n  \n  <div class=\"homePageSubtitle\"> <span>Number of countries</span>\n    <span>{{ numberOfCountries }}</span></div>\n</div>-->\n<ul>\n    <li *ngFor=\"let country of (olympics$ | async)\">  <!--la directive *ngFor est utilisée pour itérer sur chaque élément du tableau émis par olympics$.-->\n      {{ country.country }}\n    </li>\n  </ul>\n\n\n  \n  <ngx-charts-pie-chart\n  *ngIf=\"chartData\"\n  [results]=\"chartData\"\n    [view]=\"[1050, 600]\"\n    [legend]=\"false\"\n    [labels]=\"true\"\n    [trimLabels]=\"true\"\n    [tooltipTemplate]=\"tooltipTemplate\"\n    [tooltipText]=\"tooltipText\"\n    (select)=\"onChartClick($event)\"\n    >\n  \n  \n    <ng-template #tooltipTemplate let-model=\"model\" >\n      <div class=\"tooltip\">\n      <div >{{ model.name }}</div> \n\n\n      <div>\n        <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"16\" width=\"12\" viewBox=\"0 0 384 512\" class=\"tooltip-award-icon\"><!--!Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2023 Fonticons, Inc.--><path opacity=\"1\" fill=\"#1E3050\" d=\"M173.8 5.5c11-7.3 25.4-7.3 36.4 0L228 17.2c6 3.9 13 5.8 20.1 5.4l21.3-1.3c13.2-.8 25.6 6.4 31.5 18.2l9.6 19.1c3.2 6.4 8.4 11.5 14.7 14.7L344.5 83c11.8 5.9 19 18.3 18.2 31.5l-1.3 21.3c-.4 7.1 1.5 14.2 5.4 20.1l11.8 17.8c7.3 11 7.3 25.4 0 36.4L366.8 228c-3.9 6-5.8 13-5.4 20.1l1.3 21.3c.8 13.2-6.4 25.6-18.2 31.5l-19.1 9.6c-6.4 3.2-11.5 8.4-14.7 14.7L301 344.5c-5.9 11.8-18.3 19-31.5 18.2l-21.3-1.3c-7.1-.4-14.2 1.5-20.1 5.4l-17.8 11.8c-11 7.3-25.4 7.3-36.4 0L156 366.8c-6-3.9-13-5.8-20.1-5.4l-21.3 1.3c-13.2 .8-25.6-6.4-31.5-18.2l-9.6-19.1c-3.2-6.4-8.4-11.5-14.7-14.7L39.5 301c-11.8-5.9-19-18.3-18.2-31.5l1.3-21.3c.4-7.1-1.5-14.2-5.4-20.1L5.5 210.2c-7.3-11-7.3-25.4 0-36.4L17.2 156c3.9-6 5.8-13 5.4-20.1l-1.3-21.3c-.8-13.2 6.4-25.6 18.2-31.5l19.1-9.6C65 70.2 70.2 65 73.4 58.6L83 39.5c5.9-11.8 18.3-19 31.5-18.2l21.3 1.3c7.1 .4 14.2-1.5 20.1-5.4L173.8 5.5zM272 192a80 80 0 1 0 -160 0 80 80 0 1 0 160 0zM1.3 441.8L44.4 339.3c.2 .1 .3 .2 .4 .4l9.6 19.1c11.7 23.2 36 37.3 62 35.8l21.3-1.3c.2 0 .5 0 .7 .2l17.8 11.8c5.1 3.3 10.5 5.9 16.1 7.7l-37.6 89.3c-2.3 5.5-7.4 9.2-13.3 9.7s-11.6-2.2-14.8-7.2L74.4 455.5l-56.1 8.3c-5.7 .8-11.4-1.5-15-6s-4.3-10.7-2.1-16zm248 60.4L211.7 413c5.6-1.8 11-4.3 16.1-7.7l17.8-11.8c.2-.1 .4-.2 .7-.2l21.3 1.3c26 1.5 50.3-12.6 62-35.8l9.6-19.1c.1-.2 .2-.3 .4-.4l43.2 102.5c2.2 5.3 1.4 11.4-2.1 16s-9.3 6.9-15 6l-56.1-8.3-32.2 49.2c-3.2 5-8.9 7.7-14.8 7.2s-11-4.3-13.3-9.7z\"/></svg>\n         {{ model.value }}</div>\n    </div>\n\n\n    \n    </ng-template>\n</ngx-charts-pie-chart>\n</div>\n\n  <!--L'expression let country of (olympics$ | async) crée une variable locale country pour chaque itération, \n    qui représente l'objet courant du tableau olympics$.-->\n\n "]},"metadata":{},"sourceType":"module"}